{"version":3,"sources":["dom.js"],"names":["window","dom","class","add","node","className","classList","remove","has","contains","create","string","container","document","createElement","innerHTML","children","before","newNode","parentNode","insertBefore","after","nextSibling","append","parent","appendChild","wrap","removeChild","empty","childNodes","arr","cur","firstChild","push","attr","attrName","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","name","Object","key","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","siblings","Array","from","filter","n","next","x","nodeType","previous","previousSibling","each","nodeList","i","index","childList"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"..","sourcesContent":["window.dom = {\n  class: {\n    add(node, className) {\n      node.classList.add(className)\n    },\n    remove(node, className) {\n      node.classList.remove(className)\n    },\n    has(node, className) {\n      return node.classList.contains(className)\n    }\n  }\n}\n\n// Create node\ndom.create = function(string) {\n  const container = document.createElement(\"div\")\n  container.innerHTML = string\n  return container.children[0]\n}\n// Create siblings\ndom.before = function(newNode, node) {\n  node.parentNode.insertBefore(newNode, node)\n}\ndom.after = function(newNode, node) {\n  node.parentNode.insertBefore(newNode, node.nextSibling)\n}\n// append child\ndom.append = function(node, parent) {\n  parent.appendChild(node)\n}\n// append parent\ndom.wrap = function(parent, node) {\n  dom.before(parent, node)\n  dom.append(node, parent)\n}\n\ndom.remove = function(node) {\n  node.parentNode.removeChild(node)\n  return node\n}\n\ndom.empty = function(node) {\n  // node.childNodes\n  const { childNodes } = node\n  const arr = []\n  let cur = node.firstChild\n  while (cur) {\n    arr.push(dom.remove(cur))\n    cur = node.firstChild\n  }\n  return arr\n}\n\ndom.attr = function(node, attrName, value) {\n  if (arguments.length === 3) {\n    node.setAttribute(attrName, value)\n  } else if (arguments.length === 2) {\n    return node.getAttribute(attrName)\n  }\n}\n\ndom.text = function(node, string) {\n  if (arguments.length === 2) {\n    if (\"innerText\" in node) {\n      node.innerText = string // ie\n    } else {\n      node.textContent = string // Firefox / Chrome\n    }\n  } else if (arguments.length === 1) {\n    if (\"innerText\" in node) {\n      return node.innerText\n    } else {\n      return node.textContent\n    }\n  }\n}\n\ndom.html = function(node, string) {\n  if (arguments.length === 2) {\n    node.innerHTML = string // ie\n  } else if (arguments.length === 1) {\n    return node.innerHTML\n  }\n}\n\ndom.style = function(node, name, value) {\n  if (arguments.length === 3) {\n    // dom.style(div, 'color', 'red')\n    node.style[name] = value\n  } else if (arguments.length === 2) {\n    if (typeof name === \"string\") {\n      // dom.style(div, 'color')\n      return node.style[name]\n    } else if (name instanceof Object) {\n      // dom.style(div, {color: 'red'})\n      for (let key in name) {\n        node.style[key] = name[key]\n      }\n    }\n  }\n}\n\ndom.on = function(node, eventName, fn) {\n  node.addEventListener(eventName, fn)\n}\n\ndom.off = function(node, eventName, fn) {\n  node.removeEventListener(eventName, fn)\n}\n\ndom.find = function(selector, scope) {\n  return (scope || document).querySelectorAll(selector)\n}\n\ndom.parent = function(node) {\n  return node.parentNode\n}\ndom.children = function(node) {\n  return node.children\n}\ndom.siblings = function(node) {\n  // children 是伪数组\n  return Array.from(node.parentNode.children).filter(n => n !== node)\n}\n\ndom.next = function(node) {\n  let x = node.nextSibling\n  while (x && x.nodeType === 3) {\n    //寻找是 elementNode 的 sibling\n    x = x.nextSibling\n  }\n  return x\n}\n\ndom.previous = function(node) {\n  let x = node.previousSibling\n  while (x && x.nodeType === 3) {\n    x = x.previousSibling\n  }\n  return x\n}\n\ndom.each = function(nodeList, fn) {\n  for (let i = 0; i < nodeList.length; i++) {\n    fn(nodeList[i])\n  }\n}\n\ndom.index = function(node) {\n  const childList = dom.children(node.parentNode)\n  let i\n  for (i = 0; i < childList.length; i++) {\n    if (childList[i] === node) {\n      break\n    }\n  }\n  return i\n}\n"]}